var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,d=(e,s,a)=>new Promise((r,l)=>{var t=e=>{try{d(a.next(e))}catch(s){l(s)}},i=e=>{try{d(a.throw(e))}catch(s){l(s)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(t,i);d((a=a.apply(e,s)).next())});import{j as n,a5 as c,i as o,d as p,ax as m,b as h,D as x,K as j}from"./ui-vendor-NJW5rtDU.js";import{r as g}from"./react-vendor-7nhe2WMs.js";import{u,ag as f,aF as v,aG as y,aH as b,ah as N,L as U,I as w,B as A,aI as P,aJ as F}from"./index-DR4W6oDl.js";function k({initialData:e}){const{t:F}=u("Admin.settings"),[k,S]=g.useState(!1),[C,O]=g.useState(null),[D,I]=g.useState(!1),[q,E]=g.useState({email:"",phone:"",address:"",facebook:"",instagram:"",whatsapp:"",androidAppUrl:"",iosAppUrl:"",storeUrl:""});g.useEffect(()=>{e&&E({email:e.email||"",phone:e.phone||"",address:e.address||"",facebook:e.facebook||"",instagram:e.instagram||"",whatsapp:e.whatsapp||"",androidAppUrl:e.androidAppUrl||"",iosAppUrl:e.iosAppUrl||"",storeUrl:e.storeUrl||""})},[e]);const L=e=>{const{name:d,value:n}=e.target;E(e=>{return c=((e,s)=>{for(var a in s||(s={}))l.call(s,a)&&i(e,a,s[a]);if(r)for(var a of r(s))t.call(s,a)&&i(e,a,s[a]);return e})({},e),s(c,a({[d]:n}));var c})};return n.jsxs(f,{children:[n.jsxs(v,{children:[n.jsxs(y,{className:"flex items-center gap-2",children:[n.jsx(c,{className:"h-5 w-5"}),F("title")]}),n.jsx(b,{children:F("description")})]}),n.jsx(N,{children:n.jsxs("form",{onSubmit:e=>d(null,null,function*(){e.preventDefault(),S(!0),O(null),I(!1);try{const e={email:q.email,phone:q.phone,address:q.address,facebook:q.facebook,instagram:q.instagram,whatsapp:q.whatsapp,androidAppUrl:q.androidAppUrl,iosAppUrl:q.iosAppUrl,storeUrl:q.storeUrl},s=yield P(e);s.success?(I(!0),setTimeout(()=>{I(!1)},2e3)):O(s.error||"Failed to save contact information")}catch(s){O("Failed to save contact information")}finally{S(!1)}}),className:"space-y-6",children:[C&&n.jsx("div",{className:"rounded border border-red-400 bg-red-100 px-4 py-3 text-red-700",children:C}),D&&n.jsx("div",{className:"rounded border border-green-400 bg-green-100 px-4 py-3 text-green-700",children:F("saveSuccess")}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(o,{className:"h-4 w-4"}),F("contactInformation")]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(U,{htmlFor:"email",children:[F("emailAddress")," *"]}),n.jsx(w,{id:"email",name:"email",type:"email",value:q.email,onChange:L,placeholder:F("emailPlaceholder"),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(U,{htmlFor:"phone",children:[F("phoneNumber")," *"]}),n.jsx(w,{id:"phone",name:"phone",type:"tel",value:q.phone,onChange:L,placeholder:F("phonePlaceholder"),required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(U,{htmlFor:"address",children:[F("address")," *"]}),n.jsx(w,{id:"address",name:"address",value:q.address,onChange:L,placeholder:F("addressPlaceholder"),required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(p,{className:"h-4 w-4"}),F("socialMedia")]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(U,{htmlFor:"facebook",children:F("facebook")}),n.jsx(w,{id:"facebook",name:"facebook",type:"url",value:q.facebook,onChange:L,placeholder:F("facebookPlaceholder")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(U,{htmlFor:"instagram",children:F("instagram")}),n.jsx(w,{id:"instagram",name:"instagram",type:"url",value:q.instagram,onChange:L,placeholder:F("instagramPlaceholder")})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(U,{htmlFor:"whatsapp",children:F("whatsapp")}),n.jsx(w,{id:"whatsapp",name:"whatsapp",type:"url",value:q.whatsapp,onChange:L,placeholder:F("whatsappPlaceholder")})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(m,{className:"h-4 w-4"}),F("mobileAppLinks")]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(U,{htmlFor:"androidAppUrl",children:F("androidAppStoreUrl")}),n.jsx(w,{id:"androidAppUrl",name:"androidAppUrl",type:"url",value:q.androidAppUrl,onChange:L,placeholder:F("androidPlaceholder")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(U,{htmlFor:"iosAppUrl",children:F("iosAppStoreUrl")}),n.jsx(w,{id:"iosAppUrl",name:"iosAppUrl",type:"url",value:q.iosAppUrl,onChange:L,placeholder:F("iosPlaceholder")})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(h,{className:"h-4 w-4"}),F("storeLink")]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(U,{htmlFor:"storeUrl",children:F("storeUrl")}),n.jsx(w,{id:"storeUrl",name:"storeUrl",type:"url",value:q.storeUrl,onChange:L,placeholder:F("storePlaceholder")}),n.jsx("p",{className:"text-sm text-gray-600",children:F("storeDescription")})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(A,{type:"submit",disabled:k,children:k?n.jsxs(n.Fragment,{children:[n.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}),F("saving")]}):n.jsxs(n.Fragment,{children:[n.jsx(j,{className:"h-4 w-4 mr-2"}),F("saveChanges")]})})})]})})]})}function S(){const{t:e}=u(),[s,a]=g.useState(null),[r,l]=g.useState(!0);return g.useEffect(()=>{d(null,null,function*(){l(!0);try{const e=yield F();a(e)}catch(e){}finally{l(!1)}})},[]),r?n.jsx("div",{className:"p-4 md:p-6 space-y-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-gray-500",children:e("Admin.loading")})})}):n.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:n.jsxs("div",{className:"text-start",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 text-start",children:e("Admin.settings.title")}),n.jsx("p",{className:"text-gray-600 mt-2 text-sm md:text-base text-start",children:e("Admin.settings.subtitle")})]})}),n.jsx(k,{initialData:s})]})}export{S as default};
